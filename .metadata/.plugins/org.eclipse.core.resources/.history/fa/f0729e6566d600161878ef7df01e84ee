package view.ihm;

import java.awt.*;

import javax.swing.*;

import java.util.Iterator;
import java.util.List;

import model.game.GameManager;
import model.player.Player;

public class ScrollerPlayer extends JPanel {

	private JScrollPane scroll;
	
	JPanel panel;
	//création de cet objet à chaque fois qu'un joueur est éliminé
    public ScrollerPlayer(List<Player> listeJoueurs) throws HeadlessException {
        panel = new JPanel();
        panel.setLayout(new BoxLayout(panel, BoxLayout.X_AXIS));

//        panel.setPreferredSize(new Dimension(800,150));
        panel.setBorder(BorderFactory.createLineBorder(Color.red));

        scroll = new JScrollPane(panel);
        setLayout(new BorderLayout());
        add(scroll, BorderLayout.CENTER);
        
//        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        
//        setSize(300, 300);
//        setVisible(true);
        
        Iterator<Player> it = listeJoueurs.iterator();
        
        while(it.hasNext()){
        	panel.add(new PanelPlayer(it.next()));
        	panel.add(Box.createRigidArea(new Dimension(5,0)));
        }
        
        panel.revalidate();
        scroll.revalidate();
    }
    
    public JPanel initializeExamplePlayer(){
//		frame.setTitle("Pandocreon Divinae");
		//frame.setPreferredSize(new Dimension(800, 600));
//		frame.setBounds(100, 100, 450, 300);
//		frame.setPreferredSize(new Dimension(200, 300));
//		frame.setSize(159, 180);
//		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
//		frame.getContentPane().setLayout(new BorderLayout());
		
		JPanel panelBox = new JPanel();
		panelBox.setLayout(new BoxLayout(panelBox, BoxLayout.Y_AXIS));
		
		panelBox.setPreferredSize(new Dimension(110,110));
////		panelBox.setMaximumSize(new Dimension(150,200));
//		JPanel panelTop = new JPanel();
//		panelTop.setLayout(new BorderLayout());
//		
//		JPanel panelBot = new JPanel();
//		panelBot.setLayout(new BoxLayout(panelBot, BoxLayout.X_AXIS));
//		
//		panelTop.add(new ImagePanel("./images/OrigineCarte/jour.jpg",800/20,800/20), BorderLayout.WEST);
//		
//		panelTop.add(new ImagePanel("./images/nbCroyantsCarte/nbr1.jpg", 800/40, 1600/40), BorderLayout.EAST);
//		
//		panelBot.add(new ImagePanel("./images/dogmesCarte/chaos.jpg", 800/20, 800/20));
//		panelBot.add(new ImagePanel("./images/dogmesCarte/chaos.jpg", 800/20, 800/20));
//		panelBot.add(new ImagePanel("./images/dogmesCarte/chaos.jpg", 800/20, 800/20));
//		
//		panelBox.add(panelTop);
//		
//		
//		JLabel nomCarte = new JLabel();
//		nomCarte.setText("nom de la carte\n");
//		nomCarte.setAlignmentX(Component.CENTER_ALIGNMENT);
//		nomCarte.setVerticalAlignment(SwingConstants.CENTER);
//		
//		JTextArea labelArea = new JTextArea("mon texte\nmon texte\nmon texte");
//		labelArea.setEditable(false);
//		labelArea.setLineWrap(true);
//		
		
		JLabel nomPersonne = new JLabel();
		nomPersonne.setText("Jean-Yves");
		nomPersonne.setAlignmentX(Component.CENTER_ALIGNMENT);
		nomPersonne.setVerticalAlignment(SwingConstants.CENTER);
		
		panelBox.add(nomPersonne);
		panelBox.add(new ImagePanel("./images/imageJoueur/joueur.png", 225/2, 225/2));
		
		panelBox.setBorder(BorderFactory.createMatteBorder(2,2,2,2,Color.black));
		
		return panelBox;
	}
    
    public void majPlayer(){
    	List<Player> joueurs = GameManager.getInstanceUniqueManager().getPlayers();
    	
    	
    	panel.removeAll();
    	Iterator<Player> it = joueurs.iterator();
    	while (it.hasNext()){
    		panel.add(new PanelPlayer(it.next()));
        	panel.add(Box.createRigidArea(new Dimension(5,0)));
    	}
    	
    }
}